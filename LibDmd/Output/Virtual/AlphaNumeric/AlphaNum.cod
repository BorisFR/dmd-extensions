//
// Generated by Microsoft (R) HLSL Shader Compiler 10.1
//
// Parameters:
//
//   float NumChars;
//   float NumLines;
//   float NumSegments;
//   float SegmentWidth;
//   float TargetHeight;
//   float TargetWidth;
//   sampler2D input;
//
//
// Registers:
//
//   Name         Reg   Size
//   ------------ ----- ----
//   SegmentWidth c0       1
//   TargetWidth  c1       1
//   TargetHeight c2       1
//   NumLines     c3       1
//   NumChars     c4       1
//   NumSegments  c5       1
//   input        s0       1
//

    ps_3_0
    def c6, 1.39999998, 0.699999988, 2.79999995, 1
    def c7, -0.00100000005, -999.999939, 3, 1
    def c8, 2, 0, -2, 3
    def c9, 4, 1.39999998, 0.5, -1
    def c10, 0, -1, -0.5, 0.5
    def c11, -0.100000024, -0.75, 0.699999988, 0
    def c12, 5, 1, 6, 7
    def c13, 8, 1, 9, 10
    def c14, 0, 1, -0.5, 0.5
    def c15, 11, 1, 12, 13
    def c16, 14, 1, 15, 0
    defi i0, 20, 0, 0, 0
    dcl vPos.xy  // fragCoord<0,1>
    dcl_2d s0

#line 38 "C:\Development\dmd-extensions\LibDmd\Output\Virtual\AlphaNumeric\AlphaNum.fx"
    mov r0, c10
    mad r1, c0.x, r0.xyxy, r0.zxwx
    add r0.zw, r1.xyxy, c10_abs.xyxy  // ::dtl<0,1>
    add r1.xy, r1.zwzw, c10_abs  // ::dtr<0,1>

#line 42
    mov r2.x, c0.x  // ::SegmentWidth<0>
    mad r3, r2.x, c14.xyxy, c14.zxwx
    add r1.zw, r3.xyxy, c10.xyxy  // ::dbl<0,1>
    add r2.yz, r3.xzww, c10.xxyw  // ::dbr<0,1>

#line 68
    mul r3.xyz, r2.x, c6  // ::gSegmentGap<0>, ::ba<0>

#line 44
    mad r4.xy, r2.x, c9, c9.zwzw  // ::dp<0,1>

#line 155
    rcp r2.w, c4.x  // ::cellSize<0>

#line 160
    mad r3.w, r2.w, c10.w, c10.z  // ::originPos<0>

#line 165
    rcp r4.z, c1.x
    mad r5.x, vPos.x, r4.z, c10.z  // ::uv<0>
    rcp r4.z, c2.x
    dp2add r5.y, vPos.y, r4.z, c10.y  // ::uv<1>

#line 106
    frc r4.z, -r2.w
    add r4.z, r2.w, r4.z  // ::d<1>

#line 68
    mul r4.w, r3.y, r3.y
    rcp r4.w, r4.w

#line 78
    mul r5.zw, r2.x, c11.xyxy

#line 69
    rcp r5.z, r5.z

#line 106
    rcp r6.x, c5.x
    frc r6.y, -r6.x
    add r6.x, r6.y, r6.x  // ::d<0>

#line 75
    mad r1.zw, c0.x, -r0.xyxy, r1  // ::ba<0,1>

#line 78
    rcp r5.w, r5.w

#line 60
    mad r7.xy, r2.x, -c6.zxzw, c6.w

#line 75
    mad r2.yz, c0.x, -r0.xxyw, r2  // ::ba<0,1>
    mad r7.zw, c0.x, r0_abs.xyxy, -r1.xyxy  // ::ba<0,1>
    mad r8.xy, c0.x, r0_abs, -r0.zwzw  // ::ba<0,1>

#line 108
    mov r6.z, c10.x

#line 69
    mul r8.zw, r2.x, c11

#line 108
    mul r6.w, r6.x, c8.x

#line 174
    mov r9.x, r3.w  // ::pos<0>
    mov r9.yz, c10.x  // ::d<0>, ::charIndex<0>
    rep i0
      mad r10.xy, r9.x, -c10_abs.yxzw, r5
      mul r11.xz, r10.x, c4.x  // Seg::p<0,0>
      mul r11.yw, r10.y, c3.x  // Seg::p<1,1>

#line 108
      mul r6.y, r4.z, r9.z
      texldl r10, r6.zyzz, s0  // ::pixel<2>

#line 66
      add r10.xy, -r4, r11.zwzw  // ::pa<0,1>
      mul r9.w, r3.y, r10.x
      mul r9.w, r4.w, r9.w
      max r10.w, r9.w, r3.z
      min r9.w, r7.x, r10.w  // ::t<0>
      mad r10.xy, r8.zwzw, -r9.w, r10  // Manhattan::v<0,1>

#line 48
      add r9.w, r10_abs.y, r10_abs.x  // ::Manhattan<0>

#line 69
      add r9.w, r9.w, -c0.x
      mul_sat r9.w, r5.z, r9.w
      mad r10.x, r9.w, c8.z, c8.w
      mul r9.w, r9.w, r9.w
      mul r9.w, r9.w, r10.x  // ::ShortLine<0>

#line 120
      cmp r9.w, -r10.z, c10.x, r9.w  // ::r<0>

#line 108
      texldl r10, r6.xyzz, s0  // ::pixel<2>

#line 68
      mul r10.x, r11.z, c8.z
      max r12.x, r10.x, r3.z
      min r10.x, r7.x, r12.x  // ::t<0>
      mad r10.xy, r10.x, -c10.zxzw, r11.zwzw  // Manhattan::v<0,1>

#line 48
      add r10.x, r10_abs.y, r10_abs.x  // ::Manhattan<0>

#line 69
      add r10.x, r10.x, -c0.x
      mul_sat r10.x, r5.z, r10.x
      mad r10.y, r10.x, c8.z, c8.w
      mul r10.x, r10.x, r10.x

#line 121
      mad r10.x, r10.y, r10.x, r9.w  // ::r<0>
      cmp r9.w, -r10.z, r9.w, r10.x  // ::r<0>

#line 108
      texldl r10, r6.wyzz, s0  // ::pixel<2>

#line 74
      mad r10.xy, c0.x, -r0, r11.zwzw  // ::pa<0,1>
      mul r10.w, r10.x, c8.z
      max r12.x, r10.w, r3.z
      min r10.w, r7.x, r12.x  // ::t<0>
      mad r12.xy, r1.zwzw, -r10.w, r10
      mad r10.w, r2.x, -c8.x, r12_abs.y
      mul_sat r10.w, r5.w, r10.w
      mad r12.y, r10.w, c8.z, c8.w
      mul r10.w, r10.w, r10.w
      mul r10.w, r10.w, r12.y
      add r12.x, r12_abs.x, c7.x
      mul r12.x, r12.x, c7.y
      max r13.x, r12.x, c10.x
      mad r12.x, r13.x, c8.z, c8.w
      mul r12.y, r13.x, r13.x
      mul r12.x, r12.y, r12.x

#line 122
      mad r10.w, r10.w, r12.x, r9.w  // ::r<0>
      cmp r9.w, -r10.z, r9.w, r10.w  // ::r<0>

#line 108
      mul r12, r6.xyzz, c7.zwww
      texldl r12, r12, s0  // ::pixel<2>

#line 60
      max r10.z, -r11.w, r3.x
      min r12.x, r7.y, r10.z  // ::t<0>
      mad r10.zw, r12.x, -c10.xyxy, r11  // Manhattan::v<0,1>

#line 48
      add r10.z, r10_abs.w, r10_abs.z  // ::Manhattan<0>

#line 61
      add r10.z, r10.z, -c0.x
      mul_sat r10.z, r5.z, r10.z
      mad r10.w, r10.z, c8.z, c8.w
      mul r10.z, r10.z, r10.z

#line 123
      mad r10.z, r10.w, r10.z, r9.w  // ::r<0>
      cmp r9.w, -r12.z, r9.w, r10.z  // ::r<0>

#line 108
      mul r12, r6.xyzz, c9_abs.xwww
      texldl r12, r12, s0  // ::pixel<2>

#line 76
      add r10.z, r10.x, r10.x
      max r12.x, r10.z, r3.z
      min r10.z, r7.x, r12.x  // ::t<0>
      mad r10.xy, r2.yzzw, -r10.z, r10
      mad r10.y, r2.x, -c8.x, r10_abs.y
      mul_sat r10.y, r5.w, r10.y
      mad r10.z, r10.y, c8.z, c8.w
      mul r10.y, r10.y, r10.y
      mul r10.y, r10.y, r10.z
      add r10.x, r10_abs.x, c7.x
      mul r10.x, r10.x, c7.y
      max r12.x, r10.x, c10.x
      mad r10.x, r12.x, c8.z, c8.w
      mul r10.z, r12.x, r12.x
      mul r10.x, r10.z, r10.x

#line 124
      mad r10.x, r10.y, r10.x, r9.w  // ::r<0>
      cmp r9.w, -r12.z, r9.w, r10.x  // ::r<0>

#line 108
      mul r10, r6.xyzz, c12.xyyy
      texldl r10, r10, s0  // ::pixel<2>

#line 58
      add r12, r11.zwzw, -c10_abs.xyzx  // ::pa<0,1,0,1>

#line 68
      mul r10.x, r12.z, c8.z
      max r13.x, r10.x, r3.z
      min r10.x, r7.x, r13.x  // ::t<0>
      mad r10.xy, r10.x, -c10.zxzw, r12.zwzw  // Manhattan::v<0,1>

#line 48
      add r10.x, r10_abs.y, r10_abs.x  // ::Manhattan<0>

#line 69
      add r10.x, r10.x, -c0.x
      mul_sat r10.x, r5.z, r10.x
      mad r10.y, r10.x, c8.z, c8.w
      mul r10.x, r10.x, r10.x

#line 125
      mad r10.x, r10.y, r10.x, r9.w  // ::r<0>
      cmp r9.w, -r10.z, r9.w, r10.x  // ::r<0>

#line 108
      mul r10, r6.xyzz, c12.zyyy
      texldl r10, r10, s0  // ::pixel<2>

#line 74
      add r10.xy, -r1, r11.zwzw  // ::pa<0,1>
      mul r10.w, r10.x, c8.z
      max r13.x, r10.w, r3.z
      min r10.w, r7.x, r13.x  // ::t<0>
      mad r10.xy, r7.zwzw, -r10.w, r10
      mad r10.y, r2.x, -c8.x, r10_abs.y
      mul_sat r10.y, r5.w, r10.y
      mad r10.w, r10.y, c8.z, c8.w
      mul r10.y, r10.y, r10.y
      mul r10.y, r10.y, r10.w
      add r10.x, r10_abs.x, c7.x
      mul r10.x, r10.x, c7.y
      max r13.x, r10.x, c10.x
      mad r10.x, r13.x, c8.z, c8.w
      mul r10.w, r13.x, r13.x
      mul r10.x, r10.w, r10.x

#line 126
      mad r10.x, r10.y, r10.x, r9.w  // ::r<0>
      cmp r9.w, -r10.z, r9.w, r10.x  // ::r<0>

#line 108
      mul r10, r6.xyzz, c12.wyyy
      texldl r10, r10, s0  // ::pixel<2>

#line 60
      mad r13, r2.x, -c6.x, -r12.yyww
      cmp r13, r13, -r12.yyww, r3.x
      add r14, -r7.y, r13.yyww
      cmp r13, r14, r7.y, r13  // ::t<0,0,0,0>
      mad r13, r13, -c10.xyxy, r12  // Manhattan::v<0,1,0,1>

#line 48
      add r10.xy, r13_abs.ywzw, r13_abs.xzzw  // ::Manhattan<0,0>

#line 61
      add r10.xy, r10, -c0.x
      mul_sat r10.xy, r5.z, r10
      mad r12.zw, r10.xyxy, c8.z, c8.w
      mul r10.xy, r10, r10

#line 127
      mad r10.x, r12.z, r10.x, r9.w  // ::r<0>
      cmp r9.w, -r10.z, r9.w, r10.x  // ::r<0>

#line 108
      mul r13, r6.xyzz, c13.xyyy
      texldl r13, r13, s0  // ::pixel<2>

#line 74
      add r10.xz, -r0.zyww, r11.zyww  // ::pa<0,1>
      add r10.w, r10.x, r10.x
      max r12.z, r10.w, r3.z
      min r10.w, r7.x, r12.z  // ::t<0>
      mad r10.xz, r8.xyyw, -r10.w, r10
      mad r10.z, r2.x, -c8.x, r10_abs.z
      mul_sat r10.z, r5.w, r10.z
      mad r10.w, r10.z, c8.z, c8.w
      mul r10.z, r10.z, r10.z
      mul r10.z, r10.z, r10.w
      add r10.x, r10_abs.x, c7.x
      mul r10.x, r10.x, c7.y
      max r12.z, r10.x, c10.x
      mad r10.x, r12.z, c8.z, c8.w
      mul r10.w, r12.z, r12.z
      mul r10.x, r10.w, r10.x

#line 128
      mad r10.x, r10.z, r10.x, r9.w  // ::r<0>
      cmp r9.w, -r13.z, r9.w, r10.x  // ::r<0>

#line 108
      mul r13, r6.xyzz, c13.zyyy
      texldl r13, r13, s0  // ::pixel<2>

#line 58
      add r14, r11.zwzw, -c10.zxzy  // ::pa<0,1,0,1>
      max r15, r14.yyww, r3.x
      add r16, -r7.y, r15.yyww
      cmp r15, r16, r7.y, r15  // ::t<0,0,0,0>
      mad r14, r15, -c10_abs.xyxy, r14  // Manhattan::v<0,1,0,1>

#line 48
      add r10.xz, r14_abs.yyww, r14_abs  // ::Manhattan<0,0>

#line 61
      add r10.xz, r10, -c0.x
      mul_sat r10.xz, r5.z, r10
      mad r13.xy, r10.xzzw, c8.z, c8.w
      mul r10.xz, r10, r10

#line 129
      mad r10.x, r13.x, r10.x, r9.w  // ::r<0>
      cmp r9.w, -r13.z, r9.w, r10.x  // ::r<0>

#line 108
      mul r14, r6.xyzz, c13.wyyy
      texldl r14, r14, s0  // ::pixel<2>

#line 130
      mad r10.x, r13.y, r10.z, r9.w  // ::r<0>
      cmp r9.w, -r14.z, r9.w, r10.x  // ::r<0>

#line 108
      mul r13, r6.xyzz, c15.xyyy
      texldl r13, r13, s0  // ::pixel<2>

#line 66
      add r14, r11.zwzw, -c10.xywy  // ::pa<0,1,0,1>
      mul r15, r14.xxzz, c8.z
      mad r16, r14.xxzz, c8.z, -r3.z
      cmp r15, r16, r15, r3.z
      add r16, -r7.x, r15.yyww
      cmp r15, r16, r7.x, r15  // ::t<0,0,0,0>
      mad r14, r15, -c10.zxzx, r14  // Manhattan::v<0,1,0,1>

#line 48
      add r10.xz, r14_abs.yyww, r14_abs  // ::Manhattan<0,0>

#line 69
      add r10.xz, r10, -c0.x
      mul_sat r10.xz, r5.z, r10
      mad r13.xy, r10.xzzw, c8.z, c8.w
      mul r10.xz, r10, r10

#line 131
      mad r10.x, r13.x, r10.x, r9.w  // ::r<0>
      cmp r9.w, -r13.z, r9.w, r10.x  // ::r<0>

#line 108
      mul r14, r6.xyzz, c15.zyyy
      texldl r14, r14, s0  // ::pixel<2>

#line 132
      mad r10.x, r13.y, r10.z, r9.w  // ::r<0>
      cmp r9.w, -r14.z, r9.w, r10.x  // ::r<0>

#line 108
      mul r13, r6.xyzz, c15.wyyy
      texldl r13, r13, s0  // ::pixel<2>

#line 133
      mad r10.x, r12.w, r10.y, r9.w  // ::r<0>
      cmp r9.w, -r13.z, r9.w, r10.x  // ::r<0>

#line 108
      mul r10, r6.xyzz, c16.xyyy
      texldl r10, r10, s0  // ::pixel<2>

#line 66
      add r11, r11, c10.zywy  // ::pa<0,1,0,1>

#line 60
      max r10.x, -r11.y, r3.x
      min r12.z, r7.y, r10.x  // ::t<0>
      mad r10.xy, r12.z, -c10, r11  // Manhattan::v<0,1>

#line 48
      add r10.x, r10_abs.y, r10_abs.x  // ::Manhattan<0>

#line 61
      add r10.x, r10.x, -c0.x
      mul_sat r10.x, r5.z, r10.x
      mad r10.y, r10.x, c8.z, c8.w
      mul r10.x, r10.x, r10.x

#line 134
      mad r10.x, r10.y, r10.x, r9.w  // ::r<0>
      cmp r9.w, -r10.z, r9.w, r10.x  // ::r<0>

#line 108
      mul r10, r6.xyzz, c16.zyyy
      texldl r10, r10, s0  // ::pixel<2>

#line 68
      add r6.y, r12.x, r12.x
      max r10.x, r6.y, r3.z
      min r6.y, r7.x, r10.x  // ::t<0>
      mad r10.xy, r6.y, -c10.wxzw, r12  // Manhattan::v<0,1>

#line 48
      add r6.y, r10_abs.y, r10_abs.x  // ::Manhattan<0>

#line 69
      add r6.y, r6.y, -c0.x
      mul_sat r6.y, r5.z, r6.y
      mad r10.x, r6.y, c8.z, c8.w
      mul r6.y, r6.y, r6.y

#line 135
      mad r6.y, r10.x, r6.y, r9.w  // ::r<0>
      cmp r6.y, -r10.z, r9.w, r6.y  // ::r<0>

#line 68
      add r9.w, r11.z, r11.z
      max r10.x, r9.w, r3.z
      min r9.w, r7.x, r10.x  // ::t<0>
      mad r10.xy, r9.w, -c10.wxzw, r11.zwzw  // Manhattan::v<0,1>

#line 48
      add r9.w, r10_abs.y, r10_abs.x  // ::Manhattan<0>

#line 69
      add r9.w, r9.w, -c0.x
      mul_sat r9.w, r5.z, r9.w
      mad r10.x, r9.w, c8.z, c8.w
      mul r9.w, r9.w, r9.w

#line 136
      mad r6.y, r10.x, r9.w, r6.y  // ::r<0>

#line 175
      add r9.y, r6.y, r9.y  // ::d<0>
      add r9.x, r2.w, r9.x  // ::pos<0>
      add r9.z, r9.z, -c10.y  // ::charIndex<0>
    endrep
    mov_sat oC0.x, r9.y  // ::main<0>

#line 187
    mov oC0.yzw, c10_abs.xxxy  // ::main<1,2,3>

// approximately 289 instruction slots used (32 texture, 257 arithmetic)
